name: test
on:
  push:
    paths:
      - ".github/workflows/test.yml"
  workflow_dispatch:

jobs:
  clean_up_test:
    runs-on: ubuntu-22.04
    container: 
      image: archlinux:base-devel 
    steps:
      # - name: prepare arch
      #   run: |
      #     pacman -Syu --noconfirm --needed openssh tmate
      # - name: generate ssh keys
      #   run: |
      #     echo -e 'y\n'|ssh-keygen -q -t rsa -N "" -f ~/.ssh/id_rsa

    # steps:
    #   - name: cleanup
    #     run: |
    #       sudo mkdir /empty -p
    #       _files=(
    #         /usr/local/lib/android
    #         /usr/local/.ghcup
    #         /usr/local/share/powershell
    #         /usr/local/share/chromium
    #         /usr/local/share/vcpkg
    #         /usr/share/dotnet
    #         /usr/share/swift
    #         /opt/hostedtoolcache/CodeQL
    #       )
    #       echo ${_files[@]} | sudo xargs -n1 rsync -a --delete /empty/
     - uses: mxschmitt/action-tmate@v3
